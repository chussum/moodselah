(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{100:function(e,t,n){e.exports={container:"App_container__2j5Vm",content:"App_content__1LC9y",main:"App_main__3ECZ0"}},11:function(e,t,n){e.exports={header:"Header_header__2LKy_",content:"Header_content__1q80p",active:"Header_active__2UEq8",leftContainer:"Header_leftContainer__3dFfu",rightContainer:"Header_rightContainer__2cj2E",asideContainer:"Header_asideContainer__2PHie",btn:"Header_btn__lWrd8",register:"Header_register__28rr6",avatarContainer:"Header_avatarContainer__2xvjs"}},135:function(e,t,n){"use strict";var a=n(47),r=n(48),o=n(50),i=n(49),c=n(51),l=n(0),u=n.n(l),s=n(18),m=n(30),p=n.n(m),d=n(20),f=n.n(d),g=function(e){var t,n,a=e.user,r=e.containerClassName,o=e.size,i=p()(f.a.container,(t={},Object(s.a)(t,f.a.xs,"xs"===o),Object(s.a)(t,f.a.sm,"sm"===o),Object(s.a)(t,f.a.m,"m"===o),Object(s.a)(t,f.a.lg,"lg"===o),Object(s.a)(t,f.a.xl,"xl"===o),Object(s.a)(t,f.a.xxl,"xxl"===o),t),r),c=p()(f.a.avatar,(n={},Object(s.a)(n,f.a.xs,"xs"===o),Object(s.a)(n,f.a.sm,"sm"===o),Object(s.a)(n,f.a.m,"m"===o),Object(s.a)(n,f.a.lg,"lg"===o),Object(s.a)(n,f.a.xl,"xl"===o),Object(s.a)(n,f.a.xxl,"xxl"===o),n));return u.a.createElement("div",{className:i},u.a.createElement("img",{className:c,src:a.profilePhoto||"/img/icon/avatar-blank.png",alt:a.nick}))},h=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(g,Object.assign({},this.props,this.state))}}]),t}(u.a.Component);t.a=h},136:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});var a=n(64),r=n(65);function o(){var e=Object(a.a)(["\n  mutation logUserOut {\n    logUserOut @client\n  }\n"]);return o=function(){return e},e}function i(){var e=Object(a.a)(["\n  mutation logUserIn($token: String!, $user: User!) {\n    logUserIn(token: $token, user: $user) @client\n  }\n"]);return i=function(){return e},e}var c=Object(r.a)(i()),l=Object(r.a)(o())},197:function(e,t,n){e.exports={footer:"Footer_footer__2-JNA"}},20:function(e,t,n){e.exports={container:"Avatar_container__3UzXS",avatar:"Avatar_avatar__26BUY",xs:"Avatar_xs__2XPnY",sm:"Avatar_sm__2c--H",m:"Avatar_m__Mzv80",lg:"Avatar_lg__3kf_w",xl:"Avatar_xl__1-cIe",xxl:"Avatar_xxl__1U1ls"}},209:function(e,t,n){e.exports=n(349)},293:function(e,t,n){},349:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(63),i=n.n(o),c=(n(214),n(244),n(52)),l=n(127);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u,s=function(){var e,t=navigator.userAgent.toLowerCase();if("Microsoft Internet Explorer"===navigator.appName)e="msie ";else if(t.search("trident")>-1)e="trident/.*rv:";else{if(!(t.search("edge/")>-1))return-1;e="edge/"}return null!=new RegExp("".concat(e,"([0-9]{1,})(\\.{0,}[0-9]{0,1})")).exec(t)?parseFloat(RegExp.$1+RegExp.$2):-1},m=n(53),p=n(356),d=n(196),f=n(357),g=n(358),h=n(29),v=n.n(h),b=[{path:"/",exact:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(6)]).then(n.bind(null,582))},loading:function(){return null}})},{path:"/login",exact:!0,public:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(7)]).then(n.bind(null,578))},loading:function(){return null}})},{path:"/register",exact:!0,public:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(15)]).then(n.bind(null,577))},loading:function(){return null}})},{path:"/forgot",exact:!0,public:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(5)]).then(n.bind(null,581))},loading:function(){return null}})},{path:"/@:nick",exact:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(13)]).then(n.bind(null,583))},loading:function(){return null}})},{path:"/profile",exact:!0,private:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(14)]).then(n.bind(null,575))},loading:function(){return null}})},{path:"/map",exact:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(9)]).then(n.bind(null,579))},loading:function(){return null}})},{path:"/posts/write",exact:!0,private:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(12)]).then(n.bind(null,580))},loading:function(){return null}})},{path:"/posts/:id",exact:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(1),n.e(4),n.e(11)]).then(n.bind(null,574))},loading:function(){return null}})},{path:"/posts/:id/edit",exact:!0,private:!0,component:v()({loader:function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(3),n.e(10)]).then(n.bind(null,576))},loading:function(){return null}})}],E=n(47),_=n(48),O=n(50),j=n(49),w=n(51),k=n(359),x=n(129),y=n(354),C=n(30),N=n.n(C),I=n(77),L=n(101),M=n(102),A=n(136),S=n(135),P=n(61),R=n.n(P),U=Object(I.a)(function(e){var t=e.t,n=e.containerClassName,a=e.user,o=e.isShow,i=e.menuRef,c=e.onShowMenu,l=e.onClickLogout;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:N()(R.a.btnAvatar,n),type:"button",onClick:c},r.a.createElement(S.a,{user:a,size:"m"})),o?r.a.createElement("ul",{ref:i,className:R.a.popupMenu},r.a.createElement("li",{className:R.a.menuItem},r.a.createElement(x.a,{to:"/@".concat(a.nick)},t("header.menu.profile"))),r.a.createElement("li",{className:R.a.line}),r.a.createElement("li",{className:R.a.menuItem},r.a.createElement("button",{type:"button",onClick:l},t("header.menu.logout")))):null)}),H=(u=function(e){function t(){var e,n;Object(E.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(O.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(o)))).menuRef=r.a.createRef(),n.state={isShow:!1},n}return Object(w.a)(t,e),Object(_.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this;this.props.location!==e.location&&this.setState({isShow:!1},function(){return document.removeEventListener("click",t.documentClickEvent)})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.documentClickEvent)}},{key:"render",value:function(){var e=this;return r.a.createElement(c.Mutation,{mutation:A.b},function(t){return r.a.createElement(U,Object.assign({},e.props,e.state,{menuRef:e.menuRef,onShowMenu:e.onShowMenu,onClickLogout:t}))})}},{key:"documentClickEvent",value:function(e){var t=this,n=i.a.findDOMNode(this.menuRef.current);n&&!1===n.contains(e.target)&&this.setState({isShow:!1},function(){return document.removeEventListener("click",t.documentClickEvent)})}},{key:"onShowMenu",value:function(e){var t=this;e.preventDefault(),this.setState({isShow:!0},function(){return document.addEventListener("click",t.documentClickEvent)})}}]),t}(r.a.Component),Object(L.a)(u.prototype,"documentClickEvent",[M.a],Object.getOwnPropertyDescriptor(u.prototype,"documentClickEvent"),u.prototype),Object(L.a)(u.prototype,"onShowMenu",[M.a],Object.getOwnPropertyDescriptor(u.prototype,"onShowMenu"),u.prototype),u),D=Object(k.a)(H),F=n(11),z=n.n(F),T=function(){return a.createElement(a.Fragment,null,a.createElement("div",{className:z.a.leftContainer},a.createElement("h1",null,a.createElement(x.a,{to:"/"},"Moodselah"))),a.createElement("div",{className:z.a.rightContainer},a.createElement("nav",null,a.createElement(y.a,{to:"/",exact:!0,activeClassName:z.a.active},"Feed"),a.createElement(y.a,{to:"/map",exact:!0,activeClassName:z.a.active},"Map")),a.createElement("div",{className:z.a.asideContainer},a.createElement(x.a,{className:z.a.btn,to:"/login"},"Sign in"),a.createElement(x.a,{className:N()(z.a.btn,z.a.register),to:"/register"},"Sign up"))))},$=function(e){var t=e.t,n=e.location,r=e.user;return a.createElement(a.Fragment,null,a.createElement("div",{className:z.a.leftContainer},a.createElement("h1",null,a.createElement(x.a,{to:"/"},"Moodselah"))),a.createElement("div",{className:z.a.rightContainer},a.createElement("nav",null,a.createElement(y.a,{to:"/",exact:!0,activeClassName:z.a.active},"Feed"),a.createElement("a",{href:"/map",className:"/map"===n.pathname?z.a.active:void 0},"Map")),a.createElement("div",{className:z.a.asideContainer},a.createElement(x.a,{className:z.a.btn,to:"/posts/write"},t("header.menu.write.photo")),a.createElement("div",{className:z.a.avatarContainer},a.createElement(D,{user:r})))))},B=Object(I.a)(function(e){var t=e.isLoggedIn;return a.createElement("header",{className:z.a.header},a.createElement("div",{className:z.a.content},t?a.createElement($,e):a.createElement(T,null)))}),J=function(e){function t(){return Object(E.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(w.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return r.a.createElement(B,Object.assign({},this.props,this.state))}}]),t}(r.a.Component),q=Object(k.a)(J),W=n(197),V=n.n(W),Y=function(){return a.createElement("footer",{className:V.a.footer},"\xa9 Moodselah 2019. All rights reserved.")},Z=n(100),X=n.n(Z),K=function(e){var t=e.user,n=e.isLoggedIn,r=e.route;return a.createElement(d.a,{path:r.path,render:function(e){return n?a.createElement(r.component,Object.assign({},e,{user:t,routes:r.routes})):a.createElement(p.a,{to:{pathname:"/login",state:{from:e.location}}})}})},Q=function(e){var t=e.user,n=e.isLoggedIn,r=e.route;return a.createElement(d.a,{path:r.path,render:function(e){var o=(e.location.state||{from:{pathname:"/"}}).from;return n?a.createElement(p.a,{to:o}):a.createElement(r.component,Object.assign({},e,{user:t,routes:r.routes}))}})},G=function(e){var t=e.user,n=e.isLoggedIn;if(!0===e.private)return a.createElement(K,{user:t,isLoggedIn:n,route:e});if(!0===e.public)return a.createElement(Q,{user:t,isLoggedIn:n,route:e});return a.createElement(d.a,{path:e.path,render:function(r){return a.createElement(e.component,Object.assign({},r,{user:t,isLoggedIn:n,routes:e.routes}))}})},ee=function(e){var t=e.isLoggedIn,n=e.user;return a.createElement(f.a,null,a.createElement("div",{className:X.a.container},a.createElement(q,{isLoggedIn:t,user:n}),a.createElement("section",{className:X.a.content},a.createElement("main",{className:X.a.main,role:"main"},a.createElement(g.a,null,b.map(function(e){return a.createElement(G,Object.assign({key:e.path},e,{user:n,isLoggedIn:t}))}),a.createElement(p.a,{from:"*",to:"/"})))),a.createElement(Y,null)))},te=n(64),ne=n(65);function ae(){var e=Object(te.a)(["\n  {\n    auth @client {\n      isLoggedIn\n      user {\n        id\n        nick\n        email\n        profilePhoto\n      }\n    }\n  }\n"]);return ae=function(){return e},e}var re=Object(ne.a)(ae()),oe=Object(c.graphql)(re)(function(e){var t=e.data.auth,n=void 0===t?{}:t;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{user:n.user,isLoggedIn:n.isLoggedIn}),r.a.createElement(m.ToastContainer,{draggable:!0,position:m.toast.POSITION.BOTTOM_CENTER}))}),ie=n(132),ce=n(355),le=n(128),ue=n(199),se=n(4),me=n(76),pe=n(99),de=n(198),fe=n(35),ge=n(134),he=n(133),ve="user",be="MOODSELAH_",Ee="object"===typeof localStorage?localStorage:{clear:function(){},getItem:function(){},setItem:function(){},removeItem:function(){}},_e=function(e,t){var n=Ee.getItem(be+e);if(!n)return t;try{return JSON.parse(n)}catch(a){return n}},Oe=function(e,t){return Ee.setItem(be+e,JSON.stringify(t)),_e(e)},je=_e,we=function(e,t){return Object(ge.a)(t)||Object(he.a)(t)?Oe(e,t):(Ee.setItem(be+e,t),_e(e))},ke=function(e){Ee.removeItem(be+e)},xe=function(){var e=je(ve);return e?Object.assign({__typename:"User"},e):null},ye=function(){var e=xe();return e&&e.token?e.token:""},Ce=new ce.a,Ne=new se.ApolloLink(function(e,t){return e.setContext({headers:{Authorization:ye()}}),t(e)}),Ie=new ue.createUploadLink({uri:"http://localhost:4000/graphql"}),Le=new de.a({options:{connectionParams:{Authorization:ye()},reconnect:!0},uri:"ws://localhost:4000/subscription"}),Me=Object(se.split)(function(e){var t=e.query,n=Object(fe.f)(t),a=n.kind,r=n.operation;return"OperationDefinition"===a&&"subscription"===r},Le,Ie),Ae=Object(me.a)(function(e){var t=e.graphQLErrors,n=e.networkError;t&&t.map(function(e){var t=e.message;m.toast.error("Unexpected error: ".concat(t))}),n&&m.toast.error("Network error: ".concat(n))}),Se=Object(pe.a)({cache:Ce,defaults:{auth:{__typename:"Auth",user:xe(),isLoggedIn:Boolean(ye())}},resolvers:{Mutation:{logUserIn:function(e,t,n){var a=t.token,r=t.user,o=n.cache,i=Object(ie.a)({},r,{token:a});return we(ve,JSON.stringify(i)),o.writeData({data:{auth:{__typename:"Auth",isLoggedIn:!0,user:xe()}}}),null},logUserOut:function(e,t,n){var a=n.cache;return ke(ve),a.writeData({data:{auth:{__typename:"Auth",isLoggedIn:!1,user:null}}}),null}}}}),Pe=new le.a({cache:Ce,link:se.ApolloLink.from([Ae,Se,Object(se.concat)(Ne,Me)])}),Re=(n(287),n(289),n(291),n(131)),Ue=n(98),He={ko:{translation:{ko:{"header.menu.profile":"\ud504\ub85c\ud544","header.menu.mypage":"\ub9c8\uc774\ud398\uc774\uc9c0","header.menu.write.photo":"\uae00\uc791\uc131","header.menu.logout":"\ub85c\uadf8\uc544\uc6c3","login.title":"\ub85c\uadf8\uc778","login.username":"\uc774\uba54\uc77c","login.password":"\ube44\ubc00\ubc88\ud638","login.submit":"\ub85c\uadf8\uc778","register.title":"\ud68c\uc6d0\uac00\uc785","register.nick":"\ub2c9\ub124\uc784","register.username":"\uc774\uba54\uc77c","register.password":"\ube44\ubc00\ubc88\ud638","register.confirmPassword":"\ube44\ubc00\ubc88\ud638 \ud655\uc778","register.submit":"\ud68c\uc6d0\uac00\uc785","forgot.title":"\ube44\ubc00\ubc88\ud638 \ucc3e\uae30","forgot.username":"\uc774\uba54\uc77c","forgot.submit":"\ub2e4\uc74c","profile.follower":"\ud314\ub85c\uc6cc","profile.follow":"\ud314\ub85c\uc789","profile.posts":"\uae00","profile.empty":"\uc0ac\uc6a9\uc790\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.","profile.edit.title":"\ud504\ub85c\ud544 \uc218\uc815","profile.edit.nick":"\ub2c9\ub124\uc784","profile.edit.username":"\uc774\uba54\uc77c","profile.edit.password":"\ube44\ubc00\ubc88\ud638","profile.edit.confirmPassword":"\ube44\ubc00\ubc88\ud638 \ud655\uc778","profile.edit.submit":"\uc218\uc815\ud558\uae30","map.title":"\uc9c0\ub3c4","post.write.title":"\uae00\uc4f0\uae30","post.edit.title":"\uae00\uc218\uc815"}}.ko}};Re.a.use(Ue.b).init({resources:He,lng:"ko",keySeparator:!1,interpolation:{escapeValue:!1}});Re.a,n(293);!function(){var e=s();if(-1!==e&&e<11)return window.alert("Internet Explorer 11 \uc774\ud558\ub294 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ube0c\ub77c\uc6b0\uc800\ub97c \uc5c5\uadf8\ub808\uc774\ub4dc\ud558\uace0 \uc0ac\uc6a9\ud558\uc2dc\uac70\ub098 \ud06c\ub86c \ube0c\ub77c\uc6b0\uc800\ub97c \ud1b5\ud574 \uc0ac\uc6a9\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),void(window.location.href="https://www.google.com/intl/ko_ALL/chrome");var t=Object(l.createMuiTheme)({palette:{primary:{main:"#000"}},overrides:{MuiOutlinedInput:{notchedOutline:{borderRadius:0}},MuiButton:{root:{borderRadius:0},contained:{boxShadow:"none"}}},typography:{useNextVariants:!0}});i.a.render(r.a.createElement(l.MuiThemeProvider,{theme:t},r.a.createElement(c.ApolloProvider,{client:Pe},r.a.createElement(oe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}()},61:function(e,t,n){e.exports={btnAvatar:"LoggedRightMenu_btnAvatar__1Zhtd",popupMenu:"LoggedRightMenu_popupMenu__3DZez",menuItem:"LoggedRightMenu_menuItem__yIMWY",line:"LoggedRightMenu_line__3PDMS"}},77:function(e,t,n){"use strict";var a=n(0),r=n(98);t.a=function(e){return function(t){return a.createElement(r.a,null,function(n){return a.createElement(e,Object.assign({t:n},t))})}}}},[[209,16,17]]]);
//# sourceMappingURL=main.cec3005c.chunk.js.map