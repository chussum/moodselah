{"version":3,"sources":["routes/Main/queries.ts","../node_modules/react-infinite-scroller/index.js","../node_modules/react-infinite-scroller/dist/InfiniteScroll.js","components/CardImage/CardImage.module.scss","components/LoadingIcon/LoadingIcon.module.scss","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/CardImage/CardImage.tsx","components/CardImage/index.tsx","components/LoadingIcon/LoadingIcon.tsx","components/LoadingIcon/index.tsx","routes/Main/Main.module.scss","routes/Main/Main.tsx","routes/Main/index.tsx"],"names":["GET_POSTS","gql","_templateObject","module","exports","__webpack_require__","Object","defineProperty","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","InfiniteScroll","_Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scrollListener","bind","eventListenerOptions","mousewheelListener","subClass","superClass","create","constructor","setPrototypeOf","_inherits","Component","pageLoaded","pageStart","options","attachScrollListener","isReverse","loadMore","parentElement","getParentElement","scrollComponent","scrollTop","scrollHeight","beforeScrollHeight","beforeScrollTop","detachScrollListener","detachMousewheelListener","passive","testOptions","document","addEventListener","removeEventListener","e","useCapture","isPassiveSupported","loader","defaultLoader","scrollEl","window","useWindow","parentNode","el","scrollParent","getScrollParent","hasMore","initialLoad","deltaY","preventDefault","offset","doc","documentElement","body","undefined","pageYOffset","calculateOffset","clientHeight","Number","threshold","offsetParent","calculateTopPosition","offsetHeight","innerHeight","offsetTop","_this2","renderProps","filterProps","children","element","ref","keys","indexOf","hasOwnProperty","_objectWithoutProperties","node","childrenArray","unshift","push","createElement","propTypes","isRequired","bool","func","number","defaultProps","container","relative","thumbWrapper","thumbCaption","truncate","iconBy","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","toString","from","_iterableToArray","_nonIterableSpread","d","__webpack_exports__","onImageLoad","img","width","naturalWidth","height","naturalHeight","style","paddingBottom","concat","React","react","className","s","Link","to","linkUrl","classNames","src","imageUrl","alt","onLoad","nick","CardImage","LoadingIcon","content","grid","buttonContainer","Main","loading","_ref$GetPosts","data","GetPosts","_ref$GetPosts$posts","posts","_ref$GetPosts$hasNext","hasNext","Helmet_default","a","react_infinite_scroller_default","onLoadMore","isFinishedLoadMore","isInfiniteScroll","map","post","thumbImage","photos","thumbUrl","path","id","author","Button_default","type","variant","color","onClick","onClickLoadMore","i18n","GetPostsQuery","Query","MainContainer","fetchMore","skip","state","variables","updateQuery","prev","_ref","fetchMoreResult","prevPosts","nextPosts","setState","objectSpread","toConsumableArray","_this3","Main_GetPostsQuery","query","_ref2","_ref3$GetPosts","_ref3$GetPosts$posts","Main_Main","assign","autobind"],"mappings":"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","file":"static/js/index.c958b9a5.chunk.js","sourcesContent":["import { gql } from 'apollo-boost';\n\nexport const GET_POSTS = gql`\n  query getPosts($skip: Int!) {\n    GetPosts(skip: $skip, limit: 20, order: \"{id: 'DESC'}\", where: \"\") {\n      success\n      error\n      hasNext\n      posts {\n        id\n        title\n        content\n        wifi\n        childChair\n        study\n        photos {\n          id\n          title\n          content\n          path\n        }\n        author {\n          id\n          nick\n          profilePhoto\n        }\n        createdAt\n        updatedAt\n      }\n    }\n  }\n`;\n","module.exports = require('./dist/InfiniteScroll');","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {// ignore\n      }\n\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n\n      return options;\n    } // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n      var offset = void 0;\n\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      } // Here we make sure the element is visible as well as checking the offset\n\n\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop; // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CardImage_container__1DqOK\",\"relative\":\"CardImage_relative__27b6O\",\"thumbWrapper\":\"CardImage_thumbWrapper__mzW3K\",\"thumbCaption\":\"CardImage_thumbCaption__3dY4j\",\"truncate\":\"CardImage_truncate__36tug\",\"iconBy\":\"CardImage_iconBy__2HMZx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoadingIcon_loader__1Qr4m\"};","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport s from './CardImage.module.scss';\nimport classNames from 'classnames';\n\ninterface IProps {\n  nick: string;\n  linkUrl: string;\n  imageUrl: string;\n}\n\nconst onImageLoad = (e: any) => {\n  const img: any = e.target;\n  const width = img.naturalWidth;\n  const height = img.naturalHeight;\n  img.parentNode.style.paddingBottom = `${(height / width) * 100}%`;\n};\n\nconst CardImage = (props: IProps) => (\n  <figure className={s.container}>\n    <Link to={props.linkUrl}>\n      <div className={s.relative}>\n        <div className={classNames(s.relative, s.thumbWrapper)}>\n          <img src={props.imageUrl} alt=\"\" onLoad={onImageLoad} />\n        </div>\n      </div>\n    </Link>\n    <figcaption className={s.thumbCaption}>\n      <h6 className={s.truncate}>\n        <Link to={props.linkUrl}>\n          <span className={s.iconBy}>by</span>\n          {props.nick}\n        </Link>\n      </h6>\n    </figcaption>\n  </figure>\n);\n\nexport default React.memo(CardImage);\n","import CardImage from './CardImage';\n\nexport default CardImage;\n","import * as React from 'react';\nimport s from './LoadingIcon.module.scss';\n\nconst LoadingIcon = () => (\n  <div className={s.loader}>\n    <img src=\"/img/loading.svg\" />\n  </div>\n);\n\nexport default LoadingIcon;\n","import LoadingIcon from './LoadingIcon';\n\nexport default LoadingIcon;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Main_container__zVbnx\",\"content\":\"Main_content__2oBrP\",\"grid\":\"Main_grid__17gkD\",\"buttonContainer\":\"Main_buttonContainer__2FQsv\",\"loadMore\":\"Main_loadMore__2dK8o\",\"loader\":\"Main_loader__X8Pxv\"};","import * as React from 'react';\nimport Helmet from 'react-helmet';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport Button from '@material-ui/core/Button';\nimport CardImage from '~/components/CardImage';\nimport LoadingIcon from '~/components/LoadingIcon';\nimport i18n from '~/helpers/i18n';\nimport s from './Main.module.scss';\nimport { getPosts_GetPosts } from '~/types/api';\n\ninterface IProps {\n  t: (keyword: string) => string;\n  loading: boolean;\n  data: {\n    GetPosts: getPosts_GetPosts;\n  };\n  onLoadMore: any;\n  isInfiniteScroll: boolean;\n  isFinishedLoadMore: boolean;\n  onClickLoadMore: (e: React.MouseEvent<HTMLElement>) => void;\n}\n\nconst Main: React.SFC<IProps> = React.memo(props => {\n  if (props.loading) {\n    return null;\n  }\n  const { GetPosts: { posts = null, hasNext = false } = {} } = props.data || {};\n  if (!posts) {\n    return null;\n  }\n  return (\n    <>\n      <Helmet>\n        <title>Moodselah</title>\n      </Helmet>\n      <div className={s.container}>\n        <div className={s.content}>\n          <section>\n            <InfiniteScroll\n              className={s.grid}\n              loadMore={props.onLoadMore}\n              hasMore={!props.isFinishedLoadMore && props.isInfiniteScroll}\n              loader={\n                <div className={s.loader} key={0}>\n                  <LoadingIcon />\n                </div>\n              }\n            >\n              {posts.map(post => {\n                if (!post) return null;\n                const thumbImage = post.photos && post.photos.length && post.photos[0];\n                const thumbUrl = thumbImage ? thumbImage.path : '';\n                return (\n                  <CardImage key={post.id} linkUrl={`/posts/${post.id}`} imageUrl={thumbUrl} nick={post.author.nick} />\n                );\n              })}\n            </InfiniteScroll>\n          </section>\n          {hasNext && !props.isFinishedLoadMore && !props.isInfiniteScroll ? (\n            <div className={s.buttonContainer}>\n              <Button\n                className={s.loadMore}\n                type=\"button\"\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={props.onClickLoadMore}\n              >\n                Load more\n              </Button>\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </>\n  );\n});\n\nexport default i18n(Main);\n","import * as React from 'react';\nimport { Query } from 'react-apollo';\nimport autobind from 'autobind-decorator';\nimport { getPosts } from '~/types/api';\nimport { GET_POSTS } from './queries';\nimport Main from './Main';\n\nexport interface IProps {}\n\nexport interface IState {\n  isInfiniteScroll: boolean;\n  isFinishedLoadMore: boolean;\n}\n\nclass GetPostsQuery extends Query<getPosts> {}\n\nclass MainContainer extends React.Component<IProps, IState> {\n  fetchMore: any;\n  skip: number = 0;\n\n  state: IState = {\n    isInfiniteScroll: false,\n    isFinishedLoadMore: false\n  };\n\n  @autobind\n  private onLoadMore() {\n    if (!this.fetchMore) return;\n    if (this.state.isFinishedLoadMore) return;\n\n    this.fetchMore({\n      variables: {\n        skip: this.skip\n      },\n      updateQuery: (prev, { fetchMoreResult }) => {\n        if (!fetchMoreResult) return prev;\n        const prevPosts = prev.GetPosts.posts ? prev.GetPosts.posts : [];\n        const nextPosts = fetchMoreResult.GetPosts.posts ? fetchMoreResult.GetPosts.posts : [];\n        if (nextPosts.length < 20) {\n          this.setState({ isFinishedLoadMore: true });\n        }\n        return {\n          ...prev,\n          GetPosts: {\n            ...prev.GetPosts,\n            posts: [...prevPosts, ...nextPosts]\n          }\n        };\n      }\n    });\n  }\n\n  @autobind\n  private onClickLoadMore(e: React.MouseEvent<HTMLElement>) {\n    e.preventDefault();\n    this.setState({ isInfiniteScroll: true });\n  }\n\n  public render() {\n    return (\n      <GetPostsQuery query={GET_POSTS} variables={{ skip: 0 }}>\n        {({ data, fetchMore, loading }) => {\n          const { GetPosts: { posts = null } = {} } = (data as any) || {};\n          this.fetchMore = fetchMore;\n          this.skip = posts ? posts.length : 0;\n          return (\n            <Main\n              {...this.state}\n              {...this.props}\n              onClickLoadMore={this.onClickLoadMore}\n              onLoadMore={this.onLoadMore}\n              loading={loading}\n              data={data}\n            />\n          );\n        }}\n      </GetPostsQuery>\n    );\n  }\n}\n\nexport default MainContainer;\n"],"sourceRoot":""}