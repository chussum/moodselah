(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{544:function(e,t,n){e.exports={container:"Register_container__1vgj-",title:"Register_title__NF6V6",subtitle:"Register_subtitle__QQOY1",form:"Register_form__1zUNk",row:"Register_row__36znW",textField:"Register_textField__OWJwH",btnContainer:"Register_btnContainer__1CjSN",btnLogin:"Register_btnLogin__38aim"}},577:function(e,t,n){"use strict";n.r(t);var a=n(18),r=n(48),o=n(101),i=n(47),s=n(50),l=n(49),c=n(51),m=n(102),u=n(0),p=n.n(u),g=n(52),b=n(53),d=n(136),w=n(64),f=n(65);function h(){var e=Object(w.a)(["\n  mutation emailSignUp(\n    $email: String!\n    $password: String!\n    $confirmPassword: String!\n    $nick: String!\n    $profilePhoto: String\n    $phoneNumber: String\n  ) {\n    EmailSignUp(\n      email: $email\n      password: $password\n      confirmPassword: $confirmPassword\n      nick: $nick\n      profilePhoto: $profilePhoto\n      phoneNumber: $phoneNumber\n    ) {\n      success\n      error\n      token\n      user {\n        id\n        email\n        nick\n        profilePhoto\n      }\n    }\n  }\n"]);return h=function(){return e},e}var v,O=Object(f.a)(h()),_=n(369),y=n.n(_),j=n(30),E=n.n(j),k=n(371),C=n.n(k),N=n(385),S=n.n(N),M=n(77),P=n(544),R=n.n(P),$=Object(M.a)(function(e){var t=e.t,n=e.loading,a=e.onInputChange,r=e.onSubmit;return p.a.createElement(p.a.Fragment,null,p.a.createElement(y.a,null,p.a.createElement("title",null,t("register.title")," - Moodselah")),p.a.createElement("div",{className:R.a.container},p.a.createElement("form",{onSubmit:r},p.a.createElement("div",{className:R.a.form},p.a.createElement("div",{className:R.a.subtitle},t("register.title")),p.a.createElement("div",{className:R.a.row},p.a.createElement(S.a,{name:"email",label:t("register.username"),className:R.a.textField,onChange:a,autoComplete:"username"})),p.a.createElement("div",{className:R.a.row},p.a.createElement(S.a,{name:"nick",label:t("register.nick"),className:R.a.textField,onChange:a})),p.a.createElement("div",{className:R.a.row},p.a.createElement(S.a,{name:"password",type:"password",label:t("register.password"),className:R.a.textField,onChange:a,autoComplete:"new-password"})),p.a.createElement("div",{className:R.a.row},p.a.createElement(S.a,{name:"confirmPassword",type:"password",label:t("register.confirmPassword"),className:R.a.textField,onChange:a,autoComplete:"new-password"})),p.a.createElement("div",{className:E()(R.a.row,R.a.btnContainer)},p.a.createElement(C.a,{type:"submit",variant:"contained",color:"primary",className:R.a.btnLogin,disabled:n},t("register.submit")))))))}),F=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),t}(g.Mutation),x=(v=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).loginMutation=void 0,n.registerMutation=void 0,n.state={email:"",nick:"",password:"",confirmPassword:""},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.nick,r=t.password,o=t.confirmPassword;return p.a.createElement(g.Mutation,{mutation:d.a},function(t){return e.loginMutation=t,p.a.createElement(F,{mutation:O,variables:{email:n,nick:a,password:r,confirmPassword:o},onCompleted:e.postRegiterMutation},function(t,n){var a=n.loading;return e.registerMutation=t,p.a.createElement($,Object.assign({},e.props,e.state,{loading:a,onInputChange:e.onInputChange,onSubmit:e.onSubmit}))})})}},{key:"onInputChange",value:function(e){var t=e.target,n=t.name,r=t.value;this.setState(Object(a.a)({},n,r))}},{key:"onSubmit",value:function(e){e.preventDefault(),this.registerMutation&&this.registerMutation()}},{key:"postRegiterMutation",value:function(e){var t=e.EmailSignUp;if(t.success){var n=t.token,a=t.user;this.loginMutation&&n&&this.loginMutation({variables:{token:n,user:a}})}else b.toast.error(t.error)}}]),t}(p.a.Component),Object(o.a)(v.prototype,"onInputChange",[m.a],Object.getOwnPropertyDescriptor(v.prototype,"onInputChange"),v.prototype),Object(o.a)(v.prototype,"onSubmit",[m.a],Object.getOwnPropertyDescriptor(v.prototype,"onSubmit"),v.prototype),Object(o.a)(v.prototype,"postRegiterMutation",[m.a],Object.getOwnPropertyDescriptor(v.prototype,"postRegiterMutation"),v.prototype),v);t.default=x}}]);
//# sourceMappingURL=register.04d474c4.chunk.js.map